{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const datePicker = document.getElementById('datetime-picker');\n  const startBtn = document.querySelector('[data-start]');\n  const daysEl = document.querySelector('[data-days]');\n  const hoursEl = document.querySelector('[data-hours]');\n  const minutesEl = document.querySelector('[data-minutes]');\n  const secondsEl = document.querySelector('[data-seconds]');\n\n  let countdownInterval;\n  let selectedDate = null;\n\n  flatpickr(datePicker, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      selectedDate = selectedDates[0];\n      if (selectedDate < new Date()) {\n        iziToast.error({\n          title: 'Ошибка',\n          message: 'Вибрана дата уже прошла. Выбкри другую дату!',\n          position: 'topRight',\n        });\n        startBtn.disabled = true;\n      } else {\n        startBtn.disabled = false;\n      }\n    },\n  });\n\n  startBtn.addEventListener('click', () => {\n    clearInterval(countdownInterval);\n\n    if (!selectedDate) {\n      iziToast.warning({\n        title: 'Внимание',\n        message: 'Пожалуйста, выбери дату перед запуском!',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    countdownInterval = setInterval(() => {\n      const now = new Date();\n      const timeLeft = selectedDate - now;\n\n      if (timeLeft <= 0) {\n        clearInterval(countdownInterval);\n        iziToast.success({\n          title: 'Время вышло!',\n          message: 'Таймер завершился!',\n          position: 'topRight',\n        });\n        updateTimerDisplay(0, 0, 0, 0);\n        return;\n      }\n\n      const { days, hours, minutes, seconds } = convertMs(timeLeft);\n      updateTimerDisplay(days, hours, minutes, seconds);\n    }, 1000);\n  });\n\n  function convertMs(ms) {\n    const days = Math.floor(ms / (1000 * 60 * 60 * 24));\n    const hours = Math.floor((ms % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n    const minutes = Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60));\n    const seconds = Math.floor((ms % (1000 * 60)) / 1000);\n    return { days, hours, minutes, seconds };\n  }\n\n  function updateTimerDisplay(days, hours, minutes, seconds) {\n    daysEl.textContent = String(days).padStart(2, '0');\n    hoursEl.textContent = String(hours).padStart(2, '0');\n    minutesEl.textContent = String(minutes).padStart(2, '0');\n    secondsEl.textContent = String(seconds).padStart(2, '0');\n  }\n});\n"],"names":["datePicker","startBtn","daysEl","hoursEl","minutesEl","secondsEl","countdownInterval","selectedDate","flatpickr","selectedDates","iziToast","timeLeft","updateTimerDisplay","days","hours","minutes","seconds","convertMs","ms"],"mappings":"2GAKA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAa,SAAS,eAAe,iBAAiB,EACtDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEzD,IAAIC,EACAC,EAAe,KAEnBC,EAAUR,EAAY,CACpB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQS,EAAe,CACrBF,EAAeE,EAAc,CAAC,EAC1BF,EAAe,IAAI,MACrBG,EAAS,MAAM,CACb,MAAO,SACP,QAAS,+CACT,SAAU,UACpB,CAAS,EACDT,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAEvB,CACL,CAAG,EAEDA,EAAS,iBAAiB,QAAS,IAAM,CAGvC,GAFA,cAAcK,CAAiB,EAE3B,CAACC,EAAc,CACjBG,EAAS,QAAQ,CACf,MAAO,WACP,QAAS,0CACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDJ,EAAoB,YAAY,IAAM,CAEpC,MAAMK,EAAWJ,EADL,IAAI,KAGhB,GAAII,GAAY,EAAG,CACjB,cAAcL,CAAiB,EAC/BI,EAAS,QAAQ,CACf,MAAO,eACP,QAAS,qBACT,SAAU,UACpB,CAAS,EACDE,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7B,MACD,CAED,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAQ,EAC5DC,EAAmBC,EAAMC,EAAOC,EAASC,CAAO,CACjD,EAAE,GAAI,CACX,CAAG,EAED,SAASC,EAAUC,EAAI,CACrB,MAAML,EAAO,KAAK,MAAMK,EAAM,KAAoB,EAC5CJ,EAAQ,KAAK,MAAOI,GAAM,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,EAClEH,EAAU,KAAK,MAAOG,GAAM,IAAO,GAAK,KAAQ,IAAO,GAAG,EAC1DF,EAAU,KAAK,MAAOE,GAAM,IAAO,IAAO,GAAI,EACpD,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAED,SAASJ,EAAmBC,EAAMC,EAAOC,EAASC,EAAS,CACzDd,EAAO,YAAc,OAAOW,CAAI,EAAE,SAAS,EAAG,GAAG,EACjDV,EAAQ,YAAc,OAAOW,CAAK,EAAE,SAAS,EAAG,GAAG,EACnDV,EAAU,YAAc,OAAOW,CAAO,EAAE,SAAS,EAAG,GAAG,EACvDV,EAAU,YAAc,OAAOW,CAAO,EAAE,SAAS,EAAG,GAAG,CACxD,CACH,CAAC"}